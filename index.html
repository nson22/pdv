<!DOCTYPE html>
<html data-bs-theme="light">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>PJ Variedades | Tudo para sua casa</title>
    <base target="_top">
</head>

<body>
    <header class="bg-dark text-light d-flex align-items-center fixed-top p-5" style="height: 20px;">
        <div class="container  ">
            <div class="row">
                <div class="col-1 d-flex">
                    <img src="pj-logo.jpeg" style="width: 72px;">
                </div>
                <div class="col-8 d-flex">
                    <input class="form-control form-control-lg" id="search" type="text" inputmode="numeric"
                        data-testid="inputSearch" placeholder="Código" autofocus>
                </div>
                <div class="col-1 d-grid">
                    <button class="btn btn-secondary" data-testid="btnSearch" onclick="searchProducts()"
                        type="button"><i class="fa-solid fa-table fs-2"></i></button>
                </div>
                <div class="col-2 d-grid">
                    <button class="btn btn-secondary" type="button" data-bs-toggle="modal" data-testid="btnRegister"
                        data-bs-target="#staticBackdrop">
                        <div class="position-relative">
                            <span
                                class="position-absolute top-0 start-50 translate-middle-y badge rounded bg-danger p-2 ms-2"><span
                                    data-testid="badgeCartTotal"></span></span>
                        </div>
                        <i class="fa-solid fa-cart-shopping fs-1"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>
    <main class="vh-80 d-flex align-items-center py-5 mt-5 mb-5">
        <div class="container" data-testid="mainContent">
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="table-responsive bg-white" data-mdb-perfect-scrollbar="true"
                        style="position: relative; height: 445px;">
                        <div data-testid="centerContent">
                            <table class="table">
                                <thead class="bg-secondary text-light">
                                    <tr>
                                        <th scope="col" class="text-center">CÓDIGO</th>
                                        <th scope="col">PRODUTO</th>
                                        <th scope="col" class="text-center">QUANTIDADE</th>
                                        <th scope="col" class="text-center">VALOR (UNIT)</th>
                                        <th scope="col" class="text-center">SUBTOTAL</th>
                                        <th scope="col" class="text-center">ADICIONAR</th>
                                        <th scope="col" class="text-center">RETIRAR</th>
                                        <th scope="col" class="text-center">REMOVER</th>
                                    </tr>
                                </thead>
                                <tbody data-testid='tBodyProducts'>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Metodos de pagamentos</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row" id="payments">
                            <div class="col-3 d-grid mx-auto"> <input type="radio" class="btn-check" data-payment="PIX"
                                    data-testid="radioPix" name="payment-options" id="pix-outlined" autocomplete="off"
                                    checked>
                                <label class="btn btn-outline-secondary" for="pix-outlined"><i
                                        class="fa-brands fa-pix"></i><br />PIX</label>
                            </div>
                            <div class="col-3 d-grid mx-auto"><input type="radio" class="btn-check"
                                    data-payment="CREDITO" data-testid="radioCredit" name="payment-options"
                                    id="credit-outlined" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="credit-outlined"><i
                                        class="fa-solid fa-credit-card"></i><br />Crédito</label>
                            </div>
                            <div class="col-3 d-grid mx-auto"> <input type="radio" class="btn-check"
                                    data-payment="DEBITO" data-testid="radioDebit" name="payment-options"
                                    id="debit-outlined" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="debit-outlined"><i
                                        class="fa-regular fa-credit-card"></i><br />Débito</label>
                            </div>
                            <div class="col-3 d-grid mx-auto"> <input type="radio" class="btn-check"
                                    data-payment="DINHEIRO" data-testid="radioMoney" name="payment-options"
                                    id="money-outlined" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="money-outlined"><i
                                        class="fa-solid fa-brazilian-real-sign"></i><br />Dinheiro</label>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="input-group input-group-lg">
                                <span class="input-group-text">R$</span>
                                <input type="text" id="currency" class="form-control" id="payment"
                                    data-testid="inputPayment">
                            </div>
                        </div>
                        <div class="input-group input-group-lg mt-3">
                            <span class="input-group-text">R$</span>
                            <input type="text" disabled class="form-control" id="restPayment" data-testid="restPayment"
                                placeholder="0,00">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                            data-testid="modalBtnCancel">Cancelar</button>
                        <button type="button" class="btn btn-success" data-testid="modalBtnConfirm"
                            onclick="handlePayment()">Confirmar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="modalLoading" data-testid="modalLoading" data-bs-backdrop="static"
            data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalLoadingLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalLoadingLabel">Aguarde enviando dados...</h5>
                    </div>
                    <div class="modal-body">
                        <div class="text-center">
                            <div class="d-block">
                                <h3 class="text-secondary m-3"></h3>
                                <div class="progress" style="height: 3rem;">
                                    <div class="progress-bar bg-success progress-bar-striped progress-bar-animated"
                                        role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"
                                        style="width: 100%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade " id="inventory" data-testid="stock" data-bs-backdrop="static" data-bs-keyboard="false"
            tabindex="-1" aria-labelledby="stockLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <input class="form-control form-control-lg" id="searchProduct" type="text"
                            data-testid="inputSearchProduct" placeholder="Informe o nome do produto" autofocus>

                        <button type="button" class="btn-close ms-3 me-2" data-bs-dismiss="modal"
                            aria-label="Close"></button>

                    </div>
                    <div class="modal-body">
                        <div class="table-responsive" style="overflow: auto;">
                            <table class="table table-responsive table-borderless">
                                <thead>
                                    <tr class="bg-secondary text-white">
                                        <th scope="col" class="text-center">CÓDIGO</th>
                                        <th scope="col">PRODUTO</th>
                                        <th scope="col" class="text-center">VALOR (UNIT)</th>
                                        <th scope="col" class="text-center">ADICIONAR</th>
                                    </tr>
                                </thead>
                                <tbody data-testid="modalBodyProduct">
                                    <!-- <tr>
                                        <th scope="row" class="text-center"><kbd>7896396109181</kbd></th>
                                        <td class="text-uppercase">Toalha de geladeira com 3 pçs ref 918</td>
                                        <td class="text-center">R$ 5,00</td>
                                        <td class="text-center">
                                            <button type="button" class="btn btn-outline-success btn-sm"><i
                                                    class="fa-solid fa-plus"></i></button>
                                        </td>
                                    </tr> -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="bg-dark text-light d-flex align-items-center fixed-bottom" style="height: 100px;">
        <div class="container">
            <div class="row text-center">
                <div class="col-6">
                    <h1>Total a pagar: <strong id="total" data-testid="labelTotal">R$ 0,00</strong></h1>
                </div>
                <div class="col-6">
                    <h1>Total pago: <strong id="total" data-testid="labelPayment">R$ 0,00</strong></h1>
                </div>
            </div>
        </div>
    </footer>
    <script src="script.js"></script>
</body>

</html>